<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ¸£èƒ½åŠ›è¶£å‘³æµ‹è¯•</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'PingFang SC', 'Helvetica Neue', Arial, sans-serif;
        }
        
        body {
            background-size: cover;
            background-color: transparent;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 10px;
            <!-- background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%); -->
        }
        
        .container {
            width: 400px;
            height: 800px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            overflow: hidden;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            color: white;
            position: relative;
            z-index: 1;
        }
        
        .header {
            padding: 20px;
            text-align: center;
            background: rgba(0, 0, 0, 0.2);
        }
        
        .header h1 {
            font-size: 24px;
            margin-bottom: 5px;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
            font-weight: 600;
        }
        
        .header p {
            font-size: 14px;
            opacity: 0.8;
        }
        
        .tabs {
            display: flex;
            background: rgba(0, 0, 0, 0.15);
        }
        
        .tab {
            flex: 1;
            padding: 15px;
            text-align: center;
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .tab.active {
            background: rgba(255, 255, 255, 0.4);
        }
        
        .tab.active::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 70%;
            height: 3px;
            background: #ff69b4;
            border-radius: 3px;
        }
        
        .content {
            height: calc(100% - 150px);
            overflow-y: auto;
            padding: 15px;
            position: relative;
            background: rgba(0, 0, 0, 0.1);
        }
        
        .page {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .page.active {
            display: block;
        }
        
        .profile-item {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
            padding: 10px;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 12px;
            transition: background 0.3s;
        }
        
        .profile-item:hover {
            background: rgba(255, 255, 255, 0.12);
        }
        
        .profile-icon {
            width: 36px;
            height: 36px;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-right: 15px;
            color: white;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 10px;
        }
        
        .profile-info {
            flex: 1;
        }
        
        .profile-label {
            font-size: 12px;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 4px;
        }
        
        .profile-value {
            width: 100%;
            padding: 6px 0;
            background: transparent;
            border: none;
            color: white;
            font-size: 15px;
            border-bottom: 1px dashed rgba(255, 255, 255, 0.3);
            transition: border-color 0.3s;
        }
        
        .profile-value:focus {
            outline: none;
            border-bottom: 1px dashed #7B68EE;
        }
        
        /* å•é€‰æŒ‰é’®æ ·å¼ */
        .radio-group {
            display: flex;
            gap: 20px;
            margin-top: 5px;
        }
        
        .radio-option {
            display: flex;
            align-items: center;
            cursor: pointer;
        }
        
        .radio-option input[type="radio"] {
            display: none;
        }
        
        .radio-label {
            display: flex;
            align-items: center;
            padding: 5px 12px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            transition: all 0.3s ease;
        }
        
        .radio-option input[type="radio"]:checked + .radio-label {
            background: rgba(255, 105, 180, 0.5); 
            box-shadow: 0 0 10px rgba(255, 105, 180, 0.5);
        }
        
        .radio-label i {
            margin-right: 5px;
        }
        
        .slider-container {
            display: flex;
            align-items: center;
            margin-top: 8px;
        }
        
        .slider {
            flex: 1;
            -webkit-appearance: none;
            height: 6px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
            outline: none;
        }
        
        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: rgba(255, 105, 180, 0.9);
            cursor: pointer;
            box-shadow: 0 0 10px rgba(255, 105, 180, 0.5);
        }
        
        .slider-value {
            margin-left: 12px;
            color: white;
            font-weight: bold;
            min-width: 30px;
            text-align: center;
            background: rgba(255, 105, 180, 0.5);
            padding: 4px 8px;
            border-radius: 10px;
        }
        
        .quiz-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
            color: white;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .quiz-question {
            font-size: 17px;
            margin-bottom: 20px;
            font-weight: 500;
            line-height: 1.5;
        }
        
        .quiz-options {
            display: flex;
            flex-direction: column;
        }
        
        .quiz-option {
            padding: 12px 15px;
            margin-bottom: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .quiz-option:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
        }
        
        .quiz-option.selected {
            background: rgba(123, 104, 238, 0.5);
            box-shadow: 0 4px 10px rgba(123, 104, 238, 0.3);
        }
        
        .quiz-explanation {
            margin-top: 20px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 12px;
            font-size: 14px;
            line-height: 1.6;
            display: none;
            animation: slideDown 0.3s ease;
        }
        
        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .quiz-nav {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        
        .quiz-btn {
            padding: 10px 20px;
            background: rgba(123, 104, 238, 0.7);
            color: white;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 500;
        }
        
        .quiz-btn:hover {
            background: rgba(123, 104, 238, 0.9);
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(123, 104, 238, 0.3);
        }
        
        .random-btn {
            background: rgba(255, 105, 180, 0.7);
            display: block;
            margin: 15px auto 0;
        }
        
        .random-btn:hover {
            background: rgba(255, 105, 180, 0.9);
            box-shadow: 0 4px 10px rgba(255, 105, 180, 0.3);
        }
        
        .quiz-result {
            margin-top: 20px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 16px;
            text-align: center;
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .result-title {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #ff69b4;
        }
        
        .result-score {
            font-size: 28px;
            font-weight: bold;
            margin: 15px 0;
            color: #7B68EE;
        }
        
        .result-desc {
            font-size: 15px;
            line-height: 1.6;
            margin-bottom: 15px;
        }
        
        /* æ¸£ç‹å¡é¡µé¢æ ·å¼ */
        .card-controls {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .control-item {
            display: flex;
            align-items: center;
            background: rgba(255, 255, 255, 0.08);
            border-radius: 12px;
            padding: 12px;
        }
        
        .control-label {
            min-width: 80px;
            font-size: 14px;
            color: rgba(255, 255, 255, 0.8);
        }
        
        .control-input {
            flex: 1;
            background: transparent;
            border: none;
            color: white;
            padding: 8px;
            border-bottom: 1px dashed rgba(255, 255, 255, 0.3);
        }
        
        .control-input:focus {
            outline: none;
            border-bottom: 1px dashed #7B68EE;
        }
        
        .checkbox-container {
            display: flex;
            align-items: center;
            margin-left: 10px;
        }
        
        .checkbox-container input {
            margin-right: 5px;
        }
        
        .upload-btn {
            padding: 8px 15px;
            background: rgba(255, 105, 180, 0.5);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: background 0.3s;
            margin-left: 10px;
        }
        
        .upload-btn:hover {
            background: rgba(255, 105, 180, 0.9);
        }
        
        .avatar-container {
            display: flex;
            align-items: center;
        }
        
        .avatar-preview {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            border: 2px solid rgba(255, 255, 255, 0.5);
            overflow: hidden;
            background: rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .avatar-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .card-preview-container {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }
        
        .premium-card {
            width: 380px;
            height: 760px;
            border-radius: 20px;
            padding: 25px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            flex-direction: column;
        }
        
        .card-watermark {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 24px;
            font-weight: bold;
            color: rgba(255, 255, 255, 0.3);
            transform: rotate(15deg);
        }
        
        .card-footer-watermark {
            position: absolute;
            bottom: 21px;
            left: 0;
            right: 0;
            text-align: center;
            font-size: 13px;
            color: rgba(255, 255, 255, 0.4);
            <!-- font-style: italic; -->
        }
        
        .card-footer1-watermark {
            position: absolute;
            bottom: 5px;
            left: 0;
            right: 0;
            text-align: center;
            font-size: 9px;
            color: rgba(255, 255, 255, 0.4);
            font-style: italic;
        }
        
        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .card-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            border: 3px solid rgba(255, 255, 255, 0.5);
            overflow: hidden;
            margin-right: 15px;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .card-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
        
        .card-user-info {
            flex: 1;
        }
        
        .card-nickname {
            font-size: 22px;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .card-id {
            font-size: 14px;
            opacity: 0.8;
        }
        
        .card-content {
            flex: 1;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 15px;
            overflow-y: auto;
        }
        
        .profile-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }
        
        .profile-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .profile-row:last-child {
            border-bottom: none;
        }
        
        .profile-name {
            font-size: 14px;
            color: rgba(255, 255, 255, 0.8);
            min-width: 80px;
        }
        
        .profile-data {
            font-size: 15px;
            font-weight: 500;
            text-align: right;
            flex: 1;
        }
        
        .card-score-section {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            margin-bottom: 15px;
        }
        
        .score-label {
            font-size: 16px;
            opacity: 0.8;
            margin-bottom: 10px;
        }
        
        .score-value {
            font-size: 36px;
            font-weight: bold;
            color: #ff69b4;
            margin-bottom: 15px;
        }
        
        .score-desc {
            font-size: 14px;
            line-height: 1.5;
            color: rgba(255, 255, 255, 0.9);
        }
        
        /* ä¿®æ”¹æŒ‰é’®å¸ƒå±€ */
        .card-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 10px;
            gap: 10px;
        }
        
        .card-action-btn {
            flex: 1;
            padding: 10px 15px;
            background: rgba(0, 0, 0, 0.4);
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }
        
        .card-action-btn:hover {
            background: rgba(0, 0, 0, 0.6);
            transform: translateY(-2px);
        }
        
        .save-btn {
            background: rgba(123, 104, 238, 0.7);
        }
        
        .save-btn:hover {
            background: rgba(123, 104, 238, 0.9);
        }
        
        /* å‘å¡æŒ‰é’®æ ·å¼ */
        .show-card-btn {
            background: rgba(255, 105, 180, 0.7);
            padding: 10px 15px;
            color: white;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            flex: 1;
        }
        
        .show-card-btn:hover {
            background: rgba(255, 105, 180, 0.9);
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(255, 105, 180, 0.3);
        }
        
        /* æµ®åŠ¨å¡ç‰‡å®¹å™¨æ ·å¼ */
        .floating-card-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1000;
            display: none;
            justify-content: center;
            align-items: center;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(5px);
        }
        
        .floating-card {
            position: relative;
            max-width: 90vw;
            max-height: 240vh;
            transition: transform 0.2s ease;
            cursor: move;
            box-shadow: 0 15px 50px rgba(0, 0, 0, 0.5);
            border-radius: 20px;
            overflow: hidden;
            transform-origin: center center;
        }
        
        .floating-card img {
            display: block;
            width: 100%;
            height: auto;
            border-radius: 20px;
        }
        
        .close-hint {
            position: absolute;
            bottom: 10px;
            left: 0;
            right: 0;
            text-align: center;
            color: white;
            font-size: 14px;
            opacity: 0.7;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
        }
        
        .footer {
            padding: 12px;
            text-align: center;
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
            background: rgba(0, 0, 0, 0.2);
        }
        
        /* æ»šåŠ¨æ¡æ ·å¼ */
        .content::-webkit-scrollbar,
        .card-content::-webkit-scrollbar {
            width: 6px;
        }
        
        .content::-webkit-scrollbar-track,
        .card-content::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
        }
        
        .content::-webkit-scrollbar-thumb,
        .card-content::-webkit-scrollbar-thumb {
            background: rgba(0, 0, 0, 0.1);
            border-radius: 3px;
        }
        
        .content::-webkit-scrollbar-thumb:hover,
        .card-content::-webkit-scrollbar-thumb:hover {
            background: rgba(123, 104, 238, 0.3);
        }
        
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>æ¸£èƒ½åŠ›è¶£å‘³æµ‹è¯•</h1>
            <p>æµ‹æµ‹ä½ çš„"æ¸£"æŒ‡æ•°æœ‰å¤šé«˜</p>
        </div>
        
        <div class="tabs">
            <div class="tab active" data-tab="profile">å˜‰å®¾èµ„æ–™</div>
            <div class="tab" data-tab="quiz">è¶£å‘³æµ‹è¯•</div>
            <div class="tab" data-tab="card">æ¸£ç‹å¡</div>
        </div>
        
        <div class="content">
            <!-- å˜‰å®¾èµ„æ–™é¡µ -->
            <div class="page active" id="profile-page">
                <div class="profile-item">
                    <div class="profile-icon"><i class="fas fa-city"></i></div>
                    <div class="profile-info">
                        <div class="profile-label">åŸå¸‚</div>
                        <input type="text" class="profile-value" id="city" value="åŒ—äº¬">
                    </div>
                </div>
                <div class="profile-item">
                    <div class="profile-icon"><i class="fas fa-birthday-cake"></i></div>
                    <div class="profile-info">
                        <div class="profile-label">å¹´é¾„</div>
                        <input type="text" class="profile-value" id="age" value="25">
                    </div>
                 
                    <div class="profile-icon"><i class="fas fa-venus-mars"></i></div>
                    <div class="profile-info">
                        <div class="profile-label">æ€§åˆ«</div>
                        <div class="radio-group">
                            <div class="radio-option">
                                <input type="radio" id="gender-male" name="gender" value="ç”·" checked>
                                <label for="gender-male" class="radio-label">
                                    <i class="fas fa-mars"></i> ç”·
                                </label>
                            </div>
                            <div class="radio-option">
                                <input type="radio" id="gender-female" name="gender" value="å¥³">
                                <label for="gender-female" class="radio-label">
                                    <i class="fas fa-venus"></i> å¥³
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="profile-item">
                    <div class="profile-icon"><i class="fas fa-ruler-vertical"></i></div>
                    <div class="profile-info">
                        <div class="profile-label">èº«é«˜</div>
                        <input type="text" class="profile-value" id="height" value="175cm">
                    </div>
               
                    <div class="profile-icon"><i class="fas fa-weight"></i></div>
                    <div class="profile-info">
                        <div class="profile-label">ä½“é‡</div>
                        <input type="text" class="profile-value" id="weight" value="65kg">
                    </div>
                </div>
                
                <div class="profile-item">
                    <div class="profile-icon"><i class="fas fa-heart"></i></div>
                    <div class="profile-info">
                        <div class="profile-label">çˆ±å¥½</div>
                        <input type="text" class="profile-value" id="hobby" value="æ—…è¡Œã€éŸ³ä¹ã€é˜…è¯»">
                    </div>
                </div>
                
                <div class="profile-item">
                    <div class="profile-icon"><i class="fas fa-star"></i></div>
                    <div class="profile-info">
                        <div class="profile-label">æ˜Ÿåº§</div>
                        <input type="text" class="profile-value" id="zodiac" value="å¤©èåº§">
                    </div>
                 
                    <div class="profile-icon"><i class="fas fa-car"></i></div>
                    <div class="profile-info">
                        <div class="profile-label">åº§é©¾</div>
                        <input type="text" class="profile-value" id="car" value="å¥¥è¿ªA4">
                    </div>
                </div>
                
                <div class="profile-item">
                    <div class="profile-icon"><i class="fas fa-briefcase"></i></div>
                    <div class="profile-info">
                        <div class="profile-label">è¡Œä¸š</div>
                        <input type="text" class="profile-value" id="industry" value="äº’è”ç½‘">
                    </div>
                 
                    <div class="profile-icon"><i class="fas fa-utensils"></i></div>
                    <div class="profile-info">
                        <div class="profile-label">é¥­é‡</div>
                        <input type="text" class="profile-value" id="appetite" value="ä¸­ç­‰">
                    </div>
                </div>
                
                <div class="profile-item">
                    <div class="profile-icon"><i class="fas fa-fire"></i></div>
                    <div class="profile-info">
                        <div class="profile-label">é­…åŠ›å€¼</div>
                        <div class="slider-container">
                            <input type="range" min="0" max="100" value="75" class="slider" id="charm-slider">
                            <span class="slider-value" id="charm-value">75</span>
                        </div>
                    </div>
                </div>
                
                <div class="profile-item">
                    <div class="profile-icon"><i class="fas fa-comment"></i></div>
                    <div class="profile-info">
                        <div class="profile-label">å¯¼å¸ˆè¯„ä»·</div>
                        <input type="text" class="profile-value" id="evaluation" value="å¾ˆæœ‰æ½œåŠ›ï¼Œç»§ç»­åŠªåŠ›ï¼">
                    </div>
                </div>
            </div>
            
            <!-- è¶£å‘³æµ‹è¯•é¡µ -->
            <div class="page" id="quiz-page">
                <div class="quiz-card">
                    <div class="quiz-question" id="current-question">è¯·å…ˆåœ¨å˜‰å®¾èµ„æ–™é¡µè®¾ç½®æ‚¨çš„æ€§åˆ«ï¼Œç„¶åå¼€å§‹æµ‹è¯•</div>
                    <div class="quiz-options" id="quiz-options">
                        <!-- é€‰é¡¹å°†ç”±JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                    <div class="quiz-explanation" id="quiz-explanation">
                        <!-- è§£æå°†ç”±JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                    </div>
                    <div class="quiz-nav">
                        <button class="quiz-btn" id="prev-btn">ä¸Šä¸€é¢˜</button>
                        <span id="question-counter">1/15</span>
                        <button class="quiz-btn" id="next-btn">ä¸‹ä¸€é¢˜</button>
                    </div>
                    <button class="quiz-btn random-btn" id="random-test">éšæœºæµ‹è¯•</button>
                </div>
                
                <div class="quiz-result" id="quiz-result">
                    <div class="result-title">æµ‹è¯•ç»“æœ</div>
                    <div class="result-score" id="result-score">75%</div>
                    <div class="result-desc" id="result-desc">æ ¹æ®æ‚¨çš„å›ç­”ï¼Œæ‚¨æœ‰ä¸€å®šçš„"æ¸£"æ½œåŠ›ï¼Œä½†è¿˜åœ¨å¯æ§èŒƒå›´å†…ã€‚</div>
                    <button class="quiz-btn" id="restart-btn">é‡æ–°æµ‹è¯•</button>
                </div>
            </div>
            
            <!-- æ¸£ç‹å¡é¡µ -->
            <div class="page" id="card-page">
                <div class="card-controls">
                    <div class="control-item">
                        <div class="control-label">ä¸Šä¼ å¤´åƒ</div>
                        <div class="avatar-container">
                            <div class="avatar-preview" id="avatar-preview">
                                <i class="fas fa-user"></i>
                            </div>
                            <input type="file" id="avatar-upload" accept="image/*" class="hidden">
                            <button class="upload-btn" id="upload-btn">é€‰æ‹©å›¾ç‰‡</button>
                        </div>
                    </div>
                    
                    <div class="control-item">
                        <div class="control-label">æ˜µç§°</div>
                        <input type="text" class="control-input" id="nickname-input" placeholder="è¯·è¾“å…¥æ˜µç§°">
                    </div>
                    
                    <div class="control-item">
                        <div class="control-label">ID</div>
                        <input type="text" class="control-input" id="id-input" placeholder="è¯·è¾“å…¥ID">
                        <div class="checkbox-container">
                            <input type="checkbox" id="privacy-check">
                            <label for="privacy-check">ä¿å¯†</label>
                        </div>
                    </div>
                    
                    <div class="control-item">
                        <div class="control-label">æµ‹è¯„ç‹®</div>
                        <input type="text" class="control-input" id="tester-input" placeholder="è¯·è¾“å…¥æµ‹è¯„ç‹®åç§°">
                    </div>
                </div>
                
                <div class="card-preview-container">
                    <div class="premium-card" id="premium-card">
                        <div class="card-watermark">æ¸£ç‹å¡</div>
                        <div class="card-footer-watermark" id="tester-watermark">æµ‹è¯„ç‹®ğŸ¦ç›¸æ€</div>
                        <div class="card-footer1-watermark">æŠ€æœ¯æ”¯æŒ Â© ç›¸æ€äº’å¨±</div>
                        
                        <div class="card-header">
                            <div class="card-avatar" id="card-avatar">
                                <i class="fas fa-user fa-2x"></i>
                            </div>
                            <div class="card-user-info">
                                <div class="card-nickname" id="card-nickname">æ˜µç§°</div>
                                <div class="card-id" id="card-id">ID: ä¿å¯†</div>
                            </div>
                        </div>
                        
                        <div class="card-content">
                            <div class="profile-list" id="profile-list">
                                <!-- ä¸ªäººèµ„æ–™å°†åœ¨è¿™é‡ŒåŠ¨æ€ç”Ÿæˆ -->
                            </div>
                        </div>
                        
                        <div class="card-score-section">
                            <div class="score-label">æ¸£æŒ‡æ•°</div>
                            <div class="score-value" id="card-score">75%</div>
                            <div class="score-desc" id="card-desc">æ ¹æ®æ‚¨çš„å›ç­”ï¼Œæ‚¨æœ‰ä¸€å®šçš„"æ¸£"æ½œåŠ›ï¼Œä½†è¿˜åœ¨å¯æ§èŒƒå›´å†…ã€‚</div>
                        </div>
                    </div>
                </div>
                
                <!-- ä¿®æ”¹åçš„æŒ‰é’®å¸ƒå±€ -->
                <div class="card-actions">
				    <input type="file" id="bg-upload-input" accept="image/*" class="hidden">
                    <button class="card-action-btn" id="change-bg-btn">æ¢è‰²</button>
                    <button class="card-action-btn" id="change-bg-btn1">æ¢å›¾</button>
                    <button class="show-card-btn" id="show-card-btn">å‘å¡</button>
                    <button class="card-action-btn save-btn" id="save-card-btn">å­˜å¡</button>
                </div>
            </div>
        </div>
        
        <div class="footer">
            Â© 2023 æ¸£ç”·æ¸£å¥³è¶£å‘³æµ‹è¯• | ç»“æœä»…ä¾›å‚è€ƒ
        </div>
    </div>

    <!-- æµ®åŠ¨å¡ç‰‡å®¹å™¨ -->
    <div class="floating-card-container" id="floating-card-container">
        <div class="floating-card" id="floating-card">
            <img id="floating-card-img" src="" alt="æ¸£ç‹å¡">
			
        </div>
            <div class="close-hint">åŒå‡»å…³é—­</div>
    </div>

    <script>
        // é¡µé¢åˆ‡æ¢é€»è¾‘
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
                
                tab.classList.add('active');
                document.getElementById(`${tab.dataset.tab}-page`).classList.add('active');
                
                // åˆ‡æ¢åˆ°æµ‹è¯•é¡µæ—¶ï¼Œæ ¹æ®æ€§åˆ«åŠ è½½æµ‹è¯•é¢˜
                if (tab.dataset.tab === 'quiz') {
                    const gender = document.querySelector('input[name="gender"]:checked').value;
                    if (gender) {
                        loadTestQuestions(gender);
                    }
                }
                
                // åˆ‡æ¢åˆ°æ¸£ç‹å¡é¡µæ—¶ï¼Œæ›´æ–°å¡ç‰‡ä¿¡æ¯
                if (tab.dataset.tab === 'card') {
                    updateCardInfo();
                }
            });
        });
        
        // é­…åŠ›å€¼æ»‘å—
        const charmSlider = document.getElementById('charm-slider');
        const charmValue = document.getElementById('charm-value');
        
        charmSlider.addEventListener('input', () => {
            charmValue.textContent = charmSlider.value;
            updateCardInfo();
        });
        
        // æµ‹è¯•é¢˜åº“
        const maleTests = {
            singleChoice: [
                {
                    question: "å¦‚æœä½ åŒæ—¶ä¸ä¸¤ä¸ªå¥³ç”Ÿäº¤å¾€ï¼Œå…¶ä¸­ä¸€ä¸ªå‘ç°äº†ï¼Œä½ ä¼šæ€ä¹ˆåšï¼Ÿ",
                    options: ["ç«‹å³æ–­ç»ä¸å¦ä¸€äººçš„å…³ç³»", "è§£é‡Šåªæ˜¯æœ‹å‹å…³ç³»", "æ‰¿è®¤é”™è¯¯ä½†è¯·æ±‚åŸè°…", "åå‘æŒ‡è´£å¯¹æ–¹ä¸ä¿¡ä»»è‡ªå·±"],
                    answer: 0,
                    analysis: "æ­£ç¡®å¤„ç†æ–¹å¼åº”è¯¥æ˜¯ç«‹å³ç»“æŸä¸æ­£å½“å…³ç³»ï¼Œå¦è¯šé¢å¯¹ã€‚"
                },
                {
                    question: "å¥³ç”Ÿè¯´'æˆ‘æ²¡äº‹'çš„æ—¶å€™ï¼Œä½ é€šå¸¸è®¤ä¸ºï¼Ÿ",
                    options: ["å¥¹çœŸçš„æ²¡äº‹", "å¥¹åœ¨ç”Ÿæ°”éœ€è¦å“„", "å¥¹éœ€è¦ä¸ªäººç©ºé—´", "å¥¹åœ¨æµ‹è¯•æˆ‘çš„ååº”"],
                    answer: 1,
                    analysis: "å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå¥³ç”Ÿè¯´'æ²¡äº‹'æ—¶å…¶å®æ˜¯æœ‰æƒ…ç»ªçš„ï¼Œéœ€è¦å…³å¿ƒã€‚"
                },
                {
                    question: "çº¦ä¼šæ—¶ï¼Œå¥³ç”Ÿè¿Ÿåˆ°äº†åŠå°æ—¶ï¼Œä½ ä¼šï¼Ÿ",
                    options: ["å¾ˆç”Ÿæ°”ï¼Œç›´æ¥è¡¨è¾¾ä¸æ»¡", "è¡¨ç¤ºç†è§£ï¼Œä½†å¿ƒé‡Œä¸çˆ½", "å…³å¿ƒåœ°é—®å¥¹æ˜¯ä¸æ˜¯é‡åˆ°äº†ä»€ä¹ˆå›°éš¾", "å¼€ç©ç¬‘è¯´'ä¸‹æ¬¡è¯¥ä½ è¯·å®¢äº†'"],
                    answer: 2,
                    analysis: "å…³å¿ƒå¯¹æ–¹é‡åˆ°çš„å›°éš¾æ¯”è¡¨è¾¾ä¸æ»¡æ›´èƒ½ä½“ç°ä½“è´´ã€‚"
                },
                {
                    question: "å¦‚æœä½ å¯¹ç°ä»»å¥³å‹å·²ç»æ²¡æ„Ÿè§‰äº†ï¼Œä½ ä¼šï¼Ÿ",
                    options: ["ç›´æ¥æå‡ºåˆ†æ‰‹", "æ…¢æ…¢å†·æ·¡è®©å¯¹æ–¹æåˆ†æ‰‹", "å…ˆæ‰¾åˆ°ä¸‹å®¶å†åˆ†æ‰‹", "åŠªåŠ›ä¿®å¤å…³ç³»"],
                    answer: 0,
                    analysis: "å¦è¯šæ˜¯æœ€å¥½çš„ç­–ç•¥ï¼Œç›´æ¥ä½†ä¸ä¼¤å®³å¯¹æ–¹çš„æ–¹å¼æå‡ºåˆ†æ‰‹ã€‚"
                },
                {
                    question: "ä½ è®¤ä¸ºæ‹çˆ±ä¸­æœ€é‡è¦çš„æ˜¯ä»€ä¹ˆï¼Ÿ",
                    options: ["æ–°é²œæ„Ÿå’Œåˆºæ¿€", "ç‰©è´¨æ¡ä»¶å’Œå¤–è²Œ", "ä¿¡ä»»å’Œç†è§£", "æ€§æ ¼äº’è¡¥"],
                    answer: 2,
                    analysis: "ä¿¡ä»»å’Œç†è§£æ˜¯é•¿ä¹…å…³ç³»çš„åŸºç¡€ï¼Œå…¶ä»–å› ç´ éƒ½å¾ˆå®¹æ˜“å˜åŒ–ã€‚"
                },
                {
                    question: "ä½ ä¼šä¿ç•™å‰å¥³å‹çš„è”ç³»æ–¹å¼å—ï¼Ÿ",
                    options: ["å…¨éƒ¨åˆ é™¤", "ä¿ç•™ä½†ä¸å†è”ç³»", "å¶å°”èŠå¤©åšæœ‹å‹", "ç»å¸¸è”ç³»ç”šè‡³çº¦ä¼š"],
                    answer: 1,
                    analysis: "ä¿ç•™è”ç³»æ–¹å¼ä½†ä¸ä¸»åŠ¨è”ç³»æ˜¯å¯¹ç°ä»»çš„å°Šé‡ï¼Œä¹Ÿæ˜¯æˆç†Ÿçš„è¡¨ç°ã€‚"
                },
                {
                    question: "ä½ å¦‚ä½•çœ‹'å¤‡èƒ'è¿™ç§è¡Œä¸ºï¼Ÿ",
                    options: ["å¾ˆæ­£å¸¸ï¼Œäººäººéƒ½æœ‰å¤‡èƒ", "ä¸é“å¾·ï¼Œä¸åº”è¯¥è¿™æ ·", "å¯ä»¥ç†è§£ä½†è‡ªå·±ä¸ä¼šåš", "è¿™æ˜¯æ‹çˆ±ç­–ç•¥çš„ä¸€ç§"],
                    answer: 1,
                    analysis: "æŠŠåˆ«äººå½“å¤‡èƒæ˜¯ä¸å°Šé‡ä»–äººçš„è¡Œä¸ºï¼Œåº”è¯¥é¿å…ã€‚"
                },
                {
                    question: "å¦‚æœä½ çš„å¥½å‹å–œæ¬¢ä¸Šä½ çš„å‰å¥³å‹ï¼Œä½ ä¼šï¼Ÿ",
                    options: ["åšå†³åå¯¹", "è¡¨ç¤ºæ”¯æŒ", "æ— æ‰€è°“", "çœ‹ä»–ä»¬æ˜¯å¦åˆé€‚"],
                    answer: 3,
                    analysis: "æˆç†Ÿçš„åšæ³•æ˜¯çœ‹ä»–ä»¬æ˜¯å¦åˆé€‚ï¼Œè€Œä¸æ˜¯åŸºäºè‡ªå·±çš„æƒ…æ„Ÿåšå†³å®šã€‚"
                },
                {
                    question: "ä½ è®¤ä¸ºæ‹çˆ±ä¸­åº”è¯¥å®Œå…¨é€æ˜æ²¡æœ‰éšç§å—ï¼Ÿ",
                    options: ["æ˜¯çš„ï¼Œåº”è¯¥å®Œå…¨é€æ˜", "ä¸éœ€è¦ï¼Œæ¯ä¸ªäººéƒ½éœ€è¦éšç§", "çœ‹å¯¹æ–¹è¦æ±‚", "åªå…¬å¼€éƒ¨åˆ†ä¿¡æ¯"],
                    answer: 1,
                    analysis: "å¥åº·çš„å…³ç³»éœ€è¦å¹³è¡¡é€æ˜åº¦å’Œä¸ªäººéšç§ç©ºé—´ã€‚"
                },
                {
                    question: "ä½ ä¼šå› ä¸ºä»€ä¹ˆåŸå› æ’’è°ï¼Ÿ",
                    options: ["ä¸ºäº†é¿å…å†²çª", "ä¸ºäº†ä¿æŠ¤å¯¹æ–¹æ„Ÿæƒ…", "ä¸ºäº†è‡ªå·±åˆ©ç›Š", "ä»æ¥ä¸ä¼šæ’’è°"],
                    answer: 1,
                    analysis: "æœ‰æ—¶ä¸ºäº†ä¿æŠ¤å¯¹æ–¹æ„Ÿæƒ…è€Œè¯´çš„'ç™½è‰²è°è¨€'å¯ä»¥è¢«ç†è§£ï¼Œä½†åº”è¯¥å°½é‡å‡å°‘ã€‚"
                }
            ],
            trueFalse: [
                {
                    question: "åŒæ—¶ä¸å¤šäººä¿æŒæš§æ˜§å…³ç³»æ˜¯å¯ä»¥æ¥å—çš„è¡Œä¸ºã€‚",
                    answer: false,
                    analysis: "åŒæ—¶ä¸å¤šäººä¿æŒæš§æ˜§æ˜¯ä¸å°Šé‡ä»–äººçš„è¡Œä¸ºï¼Œåº”è¯¥é¿å…ã€‚"
                },
                {
                    question: "ä¸æ„¿æ„å…¬å¼€å…³ç³»é€šå¸¸æ„å‘³ç€å¯¹æ–¹å¹¶ä¸æ˜¯çœŸå¿ƒã€‚",
                    answer: true,
                    analysis: "å¦‚æœå¯¹æ–¹å§‹ç»ˆä¸æ„¿æ„å…¬å¼€ä½ ä»¬çš„å…³ç³»ï¼Œå¾ˆå¯èƒ½taå¹¶æ²¡æœ‰è®¤çœŸå¯¹å¾…è¿™æ®µæ„Ÿæƒ…ã€‚"
                },
                {
                    question: "æ‹çˆ±ä¸­åº”è¯¥éšæ—¶æŸ¥çœ‹å¯¹æ–¹æ‰‹æœºã€‚",
                    answer: false,
                    analysis: "ä¿¡ä»»æ˜¯å…³ç³»çš„åŸºç¡€ï¼Œéšæ„æŸ¥çœ‹å¯¹æ–¹æ‰‹æœºä¼šç ´åä¿¡ä»»ã€‚"
                },
                {
                    question: "åˆ†æ‰‹ååº”è¯¥å°½å¿«åˆ é™¤æ‰€æœ‰å›å¿†ã€‚",
                    answer: false,
                    analysis: "å¤„ç†æ„Ÿæƒ…éœ€è¦æ—¶é—´ï¼Œå¼ºè¿«è‡ªå·±åˆ é™¤æ‰€æœ‰å›å¿†å¯èƒ½é€‚å¾—å…¶åã€‚"
                },
                {
                    question: "ç‰©è´¨æ¡ä»¶åœ¨æ‹çˆ±ä¸­æ˜¯æœ€é‡è¦çš„ã€‚",
                    answer: false,
                    analysis: "ç‰©è´¨æ¡ä»¶é‡è¦ï¼Œä½†ç»ä¸æ˜¯æœ€é‡è¦ï¼Œæ„Ÿæƒ…éœ€è¦å¤šæ–¹é¢çš„å¥‘åˆã€‚"
                }
            ]
        };
        
        const femaleTests = {
            singleChoice: [
                {
                    question: "å¦‚æœä½ å¯¹ç”·å‹é€çš„ç¤¼ç‰©ä¸æ»¡æ„ï¼Œä½ ä¼šï¼Ÿ",
                    options: ["ç›´æ¥è¡¨è¾¾ä¸å–œæ¬¢", "ç¤¼è²Œæ¥å—ä½†ä¸å†ä½¿ç”¨", "è¡¨é¢ä¸Šå¼€å¿ƒæ¥å—ï¼ŒèƒŒåæŠ±æ€¨", "æ„Ÿè°¢ä½†å§”å©‰æå‡ºè‡ªå·±çš„åå¥½"],
                    answer: 3,
                    analysis: "å§”å©‰è¡¨è¾¾è‡ªå·±çš„åå¥½æ—¢å°Šé‡å¯¹æ–¹å¿ƒæ„ï¼Œåˆèƒ½è®©ä¸‹æ¬¡é€ç¤¼æ›´åˆå¿ƒæ„ã€‚"
                },
                {
                    question: "çº¦ä¼šæ—¶ç”·å‹ä¸€ç›´çœ‹æ‰‹æœºï¼Œä½ ä¼šï¼Ÿ",
                    options: ["æŠ¢è¿‡ä»–çš„æ‰‹æœº", "ç›´æ¥è¡¨è¾¾ä¸æ»¡", "åŒæ ·å¼€å§‹ç©æ‰‹æœº", "è¯¢é—®æ˜¯å¦æœ‰ä»€ä¹ˆæ€¥äº‹éœ€è¦å¤„ç†"],
                    answer: 3,
                    analysis: "å…ˆå…³å¿ƒè¯¢é—®è€Œä¸æ˜¯ç›´æ¥æŒ‡è´£ï¼Œæ˜¯æ›´æˆç†Ÿçš„æ²Ÿé€šæ–¹å¼ã€‚"
                },
                {
                    question: "ä½ å‘ç°ç”·å‹è¿˜ä¿ç•™ç€å‰å¥³å‹çš„ç…§ç‰‡ï¼Œä½ ä¼šï¼Ÿ",
                    options: ["å½“åœºè´¨é—®å¹¶è¦æ±‚åˆ é™¤", "å·å·åˆ é™¤", "è¡¨ç¤ºç†è§£ä½†å¿ƒé‡Œä¸èˆ’æœ", "å¼€ç©ç¬‘åœ°é—®ä»–è¿˜å¿µå¿µä¸å¿˜å—"],
                    answer: 3,
                    analysis: "ç”¨è½»æ¾çš„æ–¹å¼è¡¨è¾¾å…³æ³¨æ¯”ç›´æ¥å†²çªæ›´æœ‰æ•ˆã€‚"
                },
                {
                    question: "ç”·å‹å¿˜è®°ä½ çš„ç”Ÿæ—¥ï¼Œä½ ä¼šï¼Ÿ",
                    options: ["å¤§å‘è„¾æ°”", "å†·æˆ˜ä¸€å‘¨", "æé†’ä»–å¹¶ç»™ä»–è¡¥è¿‡çš„æœºä¼š", "è®¤ä¸ºä»–æ ¹æœ¬ä¸é‡è§†ä½ "],
                    answer: 2,
                    analysis: "ç»™å¯¹æ–¹è¡¥è¿‡çš„æœºä¼šæ¯”ç›´æ¥åˆ¤'æ­»åˆ‘'æ›´æœ‰åˆ©äºå…³ç³»å‘å±•ã€‚"
                },
                {
                    question: "ä½ è®¤ä¸ºæ‹çˆ±ä¸­å¥³æ€§åº”è¯¥ä¸»åŠ¨å—ï¼Ÿ",
                    options: ["ç»å¯¹ä¸åº”è¯¥", "åº”è¯¥é€‚åº¦ä¸»åŠ¨", "åº”è¯¥å®Œå…¨ä¸»åŠ¨", "çœ‹æƒ…å†µè€Œå®š"],
                    answer: 1,
                    analysis: "é€‚åº¦ä¸»åŠ¨å¯ä»¥å¢è¿›æ„Ÿæƒ…ï¼Œä½†åº”è¯¥ä¿æŒå¹³è¡¡ã€‚"
                },
                {
                    question: "ä½ ä¼šæµ‹è¯•ç”·å‹çš„å¿ è¯šåº¦å—ï¼Ÿ",
                    options: ["ä¼šï¼Œç»å¸¸æµ‹è¯•", "å¶å°”ä¼šæµ‹è¯•", "æƒ³è¿‡ä½†ä¸ä¼šå®æ–½", "ç»å¯¹ä¸ä¼š"],
                    answer: 3,
                    analysis: "æµ‹è¯•å¯¹æ–¹å¿ è¯šåº¦å¾€å¾€ä¼šç ´åä¿¡ä»»ï¼Œä¸åˆ©äºå…³ç³»å‘å±•ã€‚"
                },
                {
                    question: "ä½ å¦‚ä½•çœ‹å¾…'ç”·é—ºèœœ'è¿™ç§å…³ç³»ï¼Ÿ",
                    options: ["å¾ˆæ­£å¸¸ï¼Œæ¯ä¸ªäººéƒ½æœ‰å¼‚æ€§æœ‹å‹", "ä¸æ­£å¸¸ï¼Œåº”è¯¥é¿å…", "å¯ä»¥æ¥å—ä½†è¦æœ‰ç•Œé™", "ç»å¯¹ä¸æ¥å—"],
                    answer: 2,
                    analysis: "å¼‚æ€§å‹è°Šå¯ä»¥å­˜åœ¨ï¼Œä½†éœ€è¦æ˜ç¡®ç•Œé™ä»¥å…å½±å“ä¸»è¦å…³ç³»ã€‚"
                },
                {
                    question: "ä½ ä¼šå› ä¸ºä»€ä¹ˆåŸå› æåˆ†æ‰‹ï¼Ÿ",
                    options: ["ä¸€æ—¶æƒ…ç»ªå†²åŠ¨", "æœ‰äº†æ›´å¥½çš„é€‰æ‹©", "å®åœ¨æ— æ³•å¿å—å¯¹æ–¹", "ç»è¿‡æ·±æ€ç†Ÿè™‘å"],
                    answer: 3,
                    analysis: "åˆ†æ‰‹åº”è¯¥æ˜¯ç»è¿‡æ·±æ€ç†Ÿè™‘åçš„å†³å®šï¼Œè€Œä¸æ˜¯æƒ…ç»ªå†²åŠ¨çš„ç»“æœã€‚"
                },
                {
                    question: "ä½ è®¤ä¸ºæ‹çˆ±ä¸­åº”è¯¥æ”¹å˜è‡ªå·±è¿åˆå¯¹æ–¹å—ï¼Ÿ",
                    options: ["åº”è¯¥å®Œå…¨æ”¹å˜", "åº”è¯¥éƒ¨åˆ†æ”¹å˜", "ä¸åº”è¯¥æ”¹å˜", "åŒæ–¹éƒ½åº”è¯¥è°ƒæ•´"],
                    answer: 3,
                    analysis: "å¥åº·çš„å…³ç³»éœ€è¦åŒæ–¹äº’ç›¸è°ƒæ•´é€‚åº”ï¼Œè€Œä¸æ˜¯å•æ–¹é¢æ”¹å˜ã€‚"
                },
                {
                    question: "ä½ å¦‚ä½•çœ‹å¾…å©šå‰åŒå±…ï¼Ÿ",
                    options: ["ç»å¯¹ä¸æ¥å—", "å¾ˆæ­£å¸¸ï¼Œåº”è¯¥åŒå±…", "çœ‹æ„Ÿæƒ…å‘å±•åˆ°ä»€ä¹ˆç¨‹åº¦", "å¿…é¡»åŒå±…æ‰èƒ½äº†è§£å¯¹æ–¹"],
                    answer: 2,
                    analysis: "å©šå‰åŒå±…éœ€è¦æ ¹æ®æ„Ÿæƒ…å‘å±•é˜¶æ®µå’ŒåŒæ–¹æ„æ„¿å†³å®šï¼Œæ²¡æœ‰ç»å¯¹æ ‡å‡†ã€‚"
                }
            ],
            trueFalse: [
                {
                    question: "æµ‹è¯•ç”·å‹çš„å¿ è¯šåº¦æ˜¯äº†è§£ä»–çœŸå¿ƒçš„å¥½æ–¹æ³•ã€‚",
                    answer: false,
                    analysis: "æ•…æ„æµ‹è¯•å¯¹æ–¹å¾€å¾€ä¼šå¯¼è‡´ä¿¡ä»»ç ´è£‚ï¼ŒçœŸè¯šæ²Ÿé€šæ‰æ˜¯æ›´å¥½çš„æ–¹å¼ã€‚"
                },
                {
                    question: "è¦æ±‚ç”·å‹éšæ—¶æŠ¥å¤‡è¡Œè¸ªæ˜¯åˆç†çš„è¦æ±‚ã€‚",
                    answer: false,
                    analysis: "å¥åº·çš„å…³ç³»éœ€è¦å½¼æ­¤ä¿¡ä»»å’Œä¸ªäººç©ºé—´ï¼Œè¿‡åº¦æ§åˆ¶åè€Œä¼šæŸå®³å…³ç³»ã€‚"
                },
                {
                    question: "æ‹çˆ±ä¸­åº”è¯¥è®©ç”·å‹çŒœä½ çš„å¿ƒæ€ã€‚",
                    answer: false,
                    analysis: "ç›´æ¥æ²Ÿé€šæ¯”è®©å¯¹æ–¹çŒœæµ‹æ›´æœ‰æ•ˆï¼Œä¹Ÿèƒ½å‡å°‘è¯¯è§£ã€‚"
                },
                {
                    question: "åˆ†æ‰‹ååº”è¯¥å°½å¿«å¼€å§‹æ–°æ‹æƒ…æ¥å¿˜è®°æ—§çˆ±ã€‚",
                    answer: false,
                    analysis: "ç”¨æ–°æ‹æƒ…æ¥æ²»ç–—æ—§ä¼¤å¾€å¾€ä¸å…¬å¹³ä¹Ÿä¸å¥åº·ï¼Œéœ€è¦æ—¶é—´è‡ªæˆ‘ç–—æ„ˆã€‚"
                },
                {
                    question: "å¥³æ€§åœ¨æ‹çˆ±ä¸­åº”è¯¥ä¿æŒç»æµç‹¬ç«‹ã€‚",
                    answer: true,
                    analysis: "ç»æµç‹¬ç«‹æœ‰åŠ©äºä¿æŒå…³ç³»ä¸­çš„å¹³ç­‰å’Œè‡ªä¸»æ€§ã€‚"
                }
            ]
        };
        
        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let userAnswers = [];
        let testScore = 75; // é»˜è®¤æµ‹è¯•åˆ†æ•°
        let testDesc = "æ ¹æ®æ‚¨çš„å›ç­”ï¼Œæ‚¨æœ‰ä¸€å®šçš„'æ¸£'æ½œåŠ›ï¼Œä½†è¿˜åœ¨å¯æ§èŒƒå›´å†…ã€‚"; // é»˜è®¤æµ‹è¯•è¯„è¯­
        
        // éšæœºæµ‹è¯•æŒ‰é’®
        document.getElementById('random-test').addEventListener('click', () => {
            const gender = document.querySelector('input[name="gender"]:checked').value;
            if (gender) {
                loadRandomQuestion(gender);
            } else {
                alert('è¯·å…ˆåœ¨å˜‰å®¾èµ„æ–™é¡µè®¾ç½®æ‚¨çš„æ€§åˆ«');
            }
        });
        
        // ä¸Šä¸€é¢˜æŒ‰é’®
        document.getElementById('prev-btn').addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion(currentQuestionIndex);
            }
        });
        
        // ä¸‹ä¸€é¢˜æŒ‰é’®
        document.getElementById('next-btn').addEventListener('click', () => {
            if (currentQuestionIndex < currentQuestions.length - 1) {
                currentQuestionIndex++;
                showQuestion(currentQuestionIndex);
            } else {
                calculateResult();
            }
        });
        
        // é‡æ–°æµ‹è¯•æŒ‰é’®
        document.getElementById('restart-btn').addEventListener('click', () => {
            const gender = document.querySelector('input[name="gender"]:checked').value;
            loadTestQuestions(gender);
        });
        
        // åŠ è½½æµ‹è¯•é¢˜ç›®
        function loadTestQuestions(gender) {
            const tests = gender === 'ç”·' ? maleTests : femaleTests;
            currentQuestions = [...tests.singleChoice, ...tests.trueFalse];
            userAnswers = new Array(currentQuestions.length).fill(null);
            currentQuestionIndex = 0;
            
            document.getElementById('quiz-result').style.display = 'none';
            document.querySelector('.quiz-card').style.display = 'block';
            showQuestion(0);
        }
        
        // åŠ è½½éšæœºé¢˜ç›®
        function loadRandomQuestion(gender) {
            const tests = gender === 'ç”·' ? maleTests : femaleTests;
            const allQuestions = [...tests.singleChoice, ...tests.trueFalse];
            const randomIndex = Math.floor(Math.random() * allQuestions.length);
            
            currentQuestions = [allQuestions[randomIndex]];
            userAnswers = [null];
            currentQuestionIndex = 0;
            
            document.getElementById('quiz-result').style.display = 'none';
            document.querySelector('.quiz-card').style.display = 'block';
            showQuestion(0);
        }
        
        // æ˜¾ç¤ºé—®é¢˜
        function showQuestion(index) {
            const question = currentQuestions[index];
            const questionElem = document.getElementById('current-question');
            const optionsElem = document.getElementById('quiz-options');
            const explanationElem = document.getElementById('quiz-explanation');
            const counterElem = document.getElementById('question-counter');
            
            questionElem.textContent = `${index + 1}. ${question.question}`;
            optionsElem.innerHTML = '';
            explanationElem.style.display = 'none';
            counterElem.textContent = `${index + 1}/${currentQuestions.length}`;
            
            if (question.hasOwnProperty('options')) {
                // å•é€‰é¢˜
                question.options.forEach((option, i) => {
                    const optionElem = document.createElement('div');
                    optionElem.className = 'quiz-option';
                    if (userAnswers[index] === i) {
                        optionElem.classList.add('selected');
                    }
                    optionElem.textContent = option;
                    optionElem.addEventListener('click', () => {
                        document.querySelectorAll('.quiz-option').forEach(o => o.classList.remove('selected'));
                        optionElem.classList.add('selected');
                        userAnswers[index] = i;
                        
                        // æ˜¾ç¤ºè§£æ
                        explanationElem.innerHTML = `<strong>è§£æï¼š</strong> ${question.analysis}`;
                        explanationElem.style.display = 'block';
                    });
                    optionsElem.appendChild(optionElem);
                });
            } else {
                // åˆ¤æ–­é¢˜
                const trueOption = document.createElement('div');
                trueOption.className = 'quiz-option';
                if (userAnswers[index] === true) {
                    trueOption.classList.add('selected');
                }
                trueOption.textContent = 'å¯¹';
                trueOption.addEventListener('click', () => {
                    document.querySelectorAll('.quiz-option').forEach(o => o.classList.remove('selected'));
                    trueOption.classList.add('selected');
                    userAnswers[index] = true;
                    
                    // æ˜¾ç¤ºè§£æ
                    explanationElem.innerHTML = `<strong>è§£æï¼š</strong> ${question.analysis}`;
                    explanationElem.style.display = 'block';
                });
                
                const falseOption = document.createElement('div');
                falseOption.className = 'quiz-option';
                if (userAnswers[index] === false) {
                    falseOption.classList.add('selected');
                }
                falseOption.textContent = 'é”™';
                falseOption.addEventListener('click', () => {
                    document.querySelectorAll('.quiz-option').forEach(o => o.classList.remove('selected'));
                    falseOption.classList.add('selected');
                    userAnswers[index] = false;
                    
                    // æ˜¾ç¤ºè§£æ
                    explanationElem.innerHTML = `<strong>è§£æï¼š</strong> ${question.analysis}`;
                    explanationElem.style.display = 'block';
                });
                
                optionsElem.appendChild(trueOption);
                optionsElem.appendChild(falseOption);
            }
            
            // æ›´æ–°å¯¼èˆªæŒ‰é’®çŠ¶æ€
            document.getElementById('prev-btn').style.display = index > 0 ? 'block' : 'none';
            document.getElementById('next-btn').textContent = index < currentQuestions.length - 1 ? 'ä¸‹ä¸€é¢˜' : 'æŸ¥çœ‹ç»“æœ';
        }
        
        // è®¡ç®—ç»“æœ
        function calculateResult() {
            let correctCount = 0;
            
            userAnswers.forEach((answer, index) => {
                const question = currentQuestions[index];
                let correctAnswer;
                
                if (question.hasOwnProperty('options')) {
                    correctAnswer = question.answer;
                } else {
                    correctAnswer = question.answer;
                }
                
                if (answer === correctAnswer) {
                    correctCount++;
                }
            });
            
            testScore = Math.round((correctCount / currentQuestions.length) * 100);
            const resultScoreElem = document.getElementById('result-score');
            const resultDescElem = document.getElementById('result-desc');
            
            resultScoreElem.textContent = `${testScore}%`;
            
            if (testScore < 30) {
                testDesc = "æ­å–œï¼æ‚¨çš„'æ¸£'æŒ‡æ•°å¾ˆä½ï¼Œæ˜¯ä¸€ä¸ªçœŸè¯šå¯é çš„äººã€‚ç»§ç»­ä¿æŒè¿™ç§çœŸè¯šçš„æ€åº¦ï¼Œä½ ä¼šé‡åˆ°çœŸæ­£é€‚åˆä½ çš„äººã€‚";
            } else if (testScore < 60) {
                testDesc = "æ‚¨æœ‰ä¸€å®šçš„'æ¸£'æ½œåŠ›ï¼Œä½†è¿˜åœ¨å¯æ§èŒƒå›´å†…ã€‚éœ€è¦æ³¨æ„è‡ªå·±çš„è¡Œä¸ºï¼Œé¿å…ä¼¤å®³ä»–äººçš„æ„Ÿæƒ…ã€‚çœŸè¯šæ˜¯å»ºç«‹é•¿ä¹…å…³ç³»çš„åŸºç¡€ã€‚";
            } else if (testScore < 80) {
                testDesc = "æ‚¨çš„'æ¸£'æŒ‡æ•°è¾ƒé«˜ï¼Œå¯èƒ½éœ€è¦åæ€è‡ªå·±çš„è¡Œä¸ºå’Œæ€åº¦ã€‚åœ¨å¤„ç†æ„Ÿæƒ…é—®é¢˜æ—¶ï¼Œå¤šè€ƒè™‘å¯¹æ–¹çš„æ„Ÿå—ï¼Œé¿å…è‡ªç§çš„è¡Œä¸ºã€‚";
            } else {
                testDesc = "è­¦å‘Šï¼æ‚¨çš„'æ¸£'æŒ‡æ•°éå¸¸é«˜ï¼Œéœ€è¦è®¤çœŸæ£€è®¨è‡ªå·±çš„è¡Œä¸ºäº†ã€‚é•¿æœŸè¿™æ ·å¯èƒ½ä¼šä¼¤å®³ä»–äººå¹¶å½±å“è‡ªå·±çš„äººé™…å…³ç³»ã€‚å»ºè®®åæ€å¹¶è°ƒæ•´å¯¹å¾…æ„Ÿæƒ…çš„æ€åº¦ã€‚";
            }
            
            resultDescElem.textContent = testDesc;
            
            document.querySelector('.quiz-card').style.display = 'none';
            document.getElementById('quiz-result').style.display = 'block';
            
            // æ›´æ–°å¡ç‰‡ä¿¡æ¯
            updateCardInfo();
        }
        
        // æ›´æ–°å¡ç‰‡ä¿¡æ¯
        function updateCardInfo() {
            // è·å–æ‰€æœ‰èµ„æ–™ä¿¡æ¯
            const city = document.getElementById('city').value;
            const gender = document.querySelector('input[name="gender"]:checked').value;
            const age = document.getElementById('age').value;
            const height = document.getElementById('height').value;
            const weight = document.getElementById('weight').value;
            const hobby = document.getElementById('hobby').value;
            const zodiac = document.getElementById('zodiac').value;
            const car = document.getElementById('car').value;
            const industry = document.getElementById('industry').value;
            const appetite = document.getElementById('appetite').value;
            const charm = document.getElementById('charm-slider').value;
            const evaluation = document.getElementById('evaluation').value;
            
            // è·å–æ˜µç§°å’ŒID
            const nickname = document.getElementById('nickname-input').value || 'æ˜µç§°';
            const idValue = document.getElementById('id-input').value;
            const isPrivate = document.getElementById('privacy-check').checked;
            
            // è·å–æµ‹è¯„ç‹®ä¿¡æ¯
            const tester = document.getElementById('tester-input').value || 'ç›¸æ€';
            
            // æ›´æ–°å¡ç‰‡æ˜¾ç¤º
            document.getElementById('card-nickname').textContent = nickname;
            document.getElementById('card-id').textContent = isPrivate ? 'ID: **ä¿å¯†**' : `ID: ${idValue || 'æœªè®¾ç½®'}`;
            document.getElementById('card-score').textContent = `${testScore}%`;
            document.getElementById('card-desc').textContent = testDesc;
            document.getElementById('tester-watermark').textContent = `æµ‹è¯„ç‹®ğŸ¦${tester}`;
            
            // æ›´æ–°ä¸ªäººèµ„æ–™åˆ—è¡¨
            const profileList = document.getElementById('profile-list');
            profileList.innerHTML = '';
            
            const profileData = [
                { label: 'æ€§åˆ«', value: gender },
                { label: 'å¹´é¾„', value: age },
                { label: 'çˆ±å¥½', value: hobby },
                { label: 'æ˜Ÿåº§', value: zodiac },
                { label: 'è¡Œä¸š', value: industry },
                { label: 'é¥­é‡', value: appetite },
                { label: 'é­…åŠ›å€¼', value: charm },
                { label: 'å¯¼å¸ˆè¯„ä»·', value: evaluation }
            ];
            
            profileData.forEach(item => {
                const row = document.createElement('div');
                row.className = 'profile-row';
                
                const name = document.createElement('div');
                name.className = 'profile-name';
                name.textContent = item.label;
                
                const data = document.createElement('div');
                data.className = 'profile-data';
                data.textContent = item.value;
                
                row.appendChild(name);
                row.appendChild(data);
                profileList.appendChild(row);
            });
        }
        
        // ä¸Šä¼ å¤´åƒåŠŸèƒ½
        document.getElementById('upload-btn').addEventListener('click', () => {
            document.getElementById('avatar-upload').click();
        });
        
        document.getElementById('avatar-upload').addEventListener('change', function(e) {
            if (this.files && this.files[0]) {
                const reader = new FileReader();
                
                reader.onload = function(e) {
                    const avatarContainer = document.getElementById('card-avatar');
                    const previewContainer = document.getElementById('avatar-preview');
                    
                    // æ›´æ–°å¡ç‰‡å¤´åƒ
                    avatarContainer.innerHTML = '';
                    const img = document.createElement('img');
                    img.src = e.target.result;
                    avatarContainer.appendChild(img);
                    
                    // æ›´æ–°é¢„è§ˆå¤´åƒ
                    previewContainer.innerHTML = '';
                    const previewImg = document.createElement('img');
                    previewImg.src = e.target.result;
                    previewContainer.appendChild(previewImg);
                }
                
                reader.readAsDataURL(this.files[0]);
            }
        });
        
        // æ˜µç§°ã€IDå’Œæµ‹è¯„ç‹®è¾“å…¥äº‹ä»¶
        document.getElementById('nickname-input').addEventListener('input', updateCardInfo);
        document.getElementById('id-input').addEventListener('input', updateCardInfo);
        document.getElementById('privacy-check').addEventListener('change', updateCardInfo);
        document.getElementById('tester-input').addEventListener('input', updateCardInfo);
        
        // æ›´æ¢èƒŒæ™¯è‰²åŠŸèƒ½
        document.getElementById('change-bg-btn').addEventListener('click', function() {
            const backgrounds = [
                'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                'linear-gradient(135deg, #f093fb 0%, #f5576c 100%)',
                'linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)',
                'linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)',
                'linear-gradient(135deg, #fa709a 0%, #fee140 100%)',
                'linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)',
                'linear-gradient(135deg, #5ee7df 0%, #b490ca 100%)',
                'linear-gradient(135deg, #d299c2 0%, #fef9d7 100%)'
            ];
            
            const randomBg = backgrounds[Math.floor(Math.random() * backgrounds.length)];
            document.getElementById('premium-card').style.background = randomBg;
        });
		// æ›´æ¢èƒŒæ™¯å›¾åŠŸèƒ½
        document.getElementById('change-bg-btn1').addEventListener('click', function() {
            bgUploadInput.click();
        });
		const bgUploadInput = document.getElementById('bg-upload-input');
		const premiumCard = document.getElementById('premium-card');
		
            bgUploadInput.addEventListener('change', function() {
                if (this.files && this.files[0]) {
                    const reader = new FileReader();
                    
                    reader.onload = function(e) {
                        // è®¾ç½®å¡ç‰‡èƒŒæ™¯
                        premiumCard.style.backgroundImage = `url(${e.target.result})`;
                        premiumCard.style.backgroundSize = 'cover';
                        premiumCard.style.backgroundPosition = 'center';
                    };
                    
                    reader.readAsDataURL(this.files[0]);
                }
            });
        
        // ä¿å­˜å¡ç‰‡åŠŸèƒ½
        document.getElementById('save-card-btn').addEventListener('click', function() {
            const cardElement = document.getElementById('premium-card');
                    
            html2canvas(cardElement, {
                scale: 2, // æé«˜åˆ†è¾¨ç‡
                useCORS: true,
                logging: false,
                backgroundColor: null
            }).then(function(canvas) {
                // å°†canvasè½¬æ¢ä¸ºBlob
                canvas.toBlob(function(blob) {
                    // åˆ›å»ºä¸‹è½½é“¾æ¥
                    const link = document.createElement('a');
					
					// è·å–å½“å‰æ—¶é—´ä½œä¸ºé»˜è®¤æ–‡ä»¶å
                    const now = new Date();
                    const timestamp = `${now.getFullYear()}${(now.getMonth()+1).toString().padStart(2, '0')}${now.getDate().toString().padStart(2, '0')}_${now.getHours().toString().padStart(2, '0')}${now.getMinutes().toString().padStart(2, '0')}${now.getSeconds().toString().padStart(2, '0')}`;
            
                    link.download = `æ¸£ç‹å¡_${timestamp}.png`;
                    link.href = URL.createObjectURL(blob);
                    link.click();
                    
                    // æ¸…ç†URLå¯¹è±¡
                    setTimeout(function() {
                        URL.revokeObjectURL(link.href);
                    }, 100);
                });
            });
        });
        
        // å‘å¡åŠŸèƒ½ - æ˜¾ç¤ºæµ®åŠ¨å¡ç‰‡
        document.getElementById('show-card-btn').addEventListener('click', function() {
            const cardElement = document.getElementById('premium-card');
            
            html2canvas(cardElement, {
                scale: 2,
                useCORS: true,
                logging: false,
                backgroundColor: null
            }).then(function(canvas) {
                const floatingContainer = document.getElementById('floating-card-container');
                const floatingCard = document.getElementById('floating-card');
                const floatingCardImg = document.getElementById('floating-card-img');
                
                // å°†canvasè½¬æ¢ä¸ºå›¾ç‰‡URL
                floatingCardImg.src = canvas.toDataURL('image/png');
                
                // æ˜¾ç¤ºæµ®åŠ¨å®¹å™¨
                floatingContainer.style.display = 'flex';
                
                // åˆå§‹åŒ–æµ®åŠ¨å¡ç‰‡ä½ç½®å’Œç¼©æ”¾
                floatingCard.style.transform = 'scale(1)';
                floatingCard.style.left = '0px';
                floatingCard.style.top = '0px';
                
                // è®¾ç½®åŒå‡»å…³é—­äº‹ä»¶
                floatingCard.ondblclick = function() {
                    floatingContainer.style.display = 'none';
                };
                
                // æ‹–æ‹½åŠŸèƒ½
                let isDragging = false;
                let startX, startY, initialX, initialY;
                
                floatingCard.addEventListener('mousedown', function(e) {
                    isDragging = true;
                    startX = e.clientX;
                    startY = e.clientY;
                    initialX = parseInt(floatingCard.style.left) || 0;
                    initialY = parseInt(floatingCard.style.top) || 0;
                    
                    // é˜²æ­¢æ–‡æœ¬é€‰ä¸­
                    e.preventDefault();
                });
                
                document.addEventListener('mousemove', function(e) {
                    if (!isDragging) return;
                    
                    const deltaX = e.clientX - startX;
                    const deltaY = e.clientY - startY;
                    
                    floatingCard.style.left = (initialX + deltaX) + 'px';
                    floatingCard.style.top = (initialY + deltaY) + 'px';
                });
                
                document.addEventListener('mouseup', function() {
                    isDragging = false;
                });
                
                // ç¼©æ”¾åŠŸèƒ½
                floatingCard.addEventListener('wheel', function(e) {
                    e.preventDefault();
                    
                    const scaleFactor = 0.1;
                    const currentScale = parseFloat(floatingCard.style.transform.replace('scale(', '').replace(')', '')) || 1;
                    let newScale;
                    
                    if (e.deltaY < 0) {
                        // å‘ä¸Šæ»šåŠ¨ï¼Œæ”¾å¤§
                        newScale = currentScale + scaleFactor;
                    } else {
                        // å‘ä¸‹æ»šåŠ¨ï¼Œç¼©å°
                        newScale = Math.max(0.5, currentScale - scaleFactor);
                    }
                    
                    floatingCard.style.transform = `scale(${newScale})`;
                });
            });
        });
        
        // åˆå§‹åŒ–é¡µé¢
        const genderRadios = document.querySelectorAll('input[name="gender"]');
        genderRadios.forEach(radio => {
            radio.addEventListener('change', () => {
                if (document.getElementById('quiz-page').classList.contains('active')) {
                    const gender = document.querySelector('input[name="gender"]:checked').value;
                    loadTestQuestions(gender);
                }
                updateCardInfo();
            });
        });
        
        // èµ„æ–™è¾“å…¥æ¡†å˜åŒ–æ—¶æ›´æ–°å¡ç‰‡
        const profileInputs = document.querySelectorAll('.profile-value');
        profileInputs.forEach(input => {
            input.addEventListener('input', updateCardInfo);
        });
        
        // åˆå§‹åŒ–å¡ç‰‡ä¿¡æ¯
        updateCardInfo();
    </script>
</body>
</html>
